<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SAGE Egypt | Payment (Demo)</title>
  <meta name="theme-color" content="#0a1628" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <section class="page active" style="display:flex">
    <div class="auth-container">
      <div class="auth-header">
        <div class="auth-logo-mini">๐ณ</div>
        <h2>ุงูุฏูุน (Demo)</h2>
        <p>ูุญุงูุงุฉ ุฏูุน ุงุดุชุฑุงู Premium</p>
      </div>

      <div style="background:rgba(255,255,255,.04);border:1px solid var(--border);border-radius:var(--radius-sm);padding:14px;margin-bottom:14px">
        <div style="font-size:13px;color:var(--text-secondary)">ุงูุจุงูุฉ</div>
        <div style="font-size:22px;font-weight:900;margin-top:4px">Premium</div>
        <div style="margin-top:6px">
          <span style="font-family:var(--font-en);font-size:26px;font-weight:900;background:var(--accent-premium);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text">4.99$</span>
          <span style="color:var(--text-secondary)">/ ุดูุฑ</span>
        </div>
        <div style="margin-top:10px;color:var(--text-secondary);font-size:13px;line-height:1.8">
          โ ูู ุฎุตุงุฆุต ุงูุชุญููู<br/>
          โ ูุชุงุฆุฌ ูุงููุฉ + ุชุตุฏูุฑ<br/>
          โ ุฏุนู ุฃูุซุฑ ููุฎุฑุงุฆุท
        </div>
      </div>

      <button class="btn-primary" id="btn-demo-pay">โ ุชุฃููุฏ ุงูุฏูุน (Demo)</button>

      <div id="code-box" style="display:none;margin-top:14px">
        <div class="input-group">
          <label>ููุฏ ุงูุชูุนูู</label>
          <input id="generated-code" readonly />
        </div>

        <button class="btn-primary" id="btn-copy">๐ ูุณุฎ ุงูููุฏ</button>
        <button class="btn-secondary" id="btn-back">โฌ ุงูุนูุฏุฉ ูุฅุฏุฎุงู ุงูููุฏ</button>

        <div class="auth-hint" style="margin-top:10px">
          ุงูุณุฎ ุงูููุฏ ุซู ุงุฑุฌุน โ ุณูุชู ูุตูู ุชููุงุฆููุง ูู ุฎุงูุฉ ุงูุชูุนูู.
        </div>
      </div>

      <div class="dev-credit">Developed by ELSAYED FAROUK</div>
    </div>
  </section>

  <div id="toast" class="toast hidden">
    <span id="toast-message"></span>
  </div>

  <script>
    function toast(msg){
      const t=document.getElementById('toast');
      document.getElementById('toast-message').textContent=msg;
      t.classList.remove('hidden');
      setTimeout(()=>t.classList.add('hidden'),2500);
    }

    function makeCode(){
      // ููุฏ Demo
      const part = () => Math.random().toString(36).substring(2,6).toUpperCase();
      return `SAGE-${part()}-${part()}`;
    }

    // ูุณุฎ ุงุญุชูุงุทู ูู Clipboard API ูุดู
    function fallbackCopy(){
      const inp = document.getElementById('generated-code');
      inp.focus();
      inp.select();
      inp.setSelectionRange(0, 99999);
      try { return document.execCommand('copy'); }
      catch(e){ return false; }
    }

    document.getElementById('btn-demo-pay').onclick = () => {
      const code = makeCode();
      localStorage.setItem('sage_demo_code', code);

      const inp = document.getElementById('generated-code');
      inp.value = code;
      document.getElementById('code-box').style.display = 'block';

      setTimeout(() => { inp.focus(); inp.select(); }, 50);
      toast('ุชู ุฅูุดุงุก ููุฏ ุงูุชูุนูู โ');
    };

    document.getElementById('btn-copy').onclick = async () => {
      const code = document.getElementById('generated-code').value;
      try {
        await navigator.clipboard.writeText(code);
        toast('ุชู ุงููุณุฎ ๐');
      } catch(e){
        const ok = fallbackCopy();
        toast(ok ? 'ุชู ุงููุณุฎ ๐' : 'ูุดู ุงููุณุฎ โ ุงูุณุฎ ูุฏูููุง');
      }
    };

    document.getElementById('btn-back').onclick = () => {
      // ูุฑุฌุน ููุจูุงุจุฉ ูููุชุญ ุตูุญุฉ ุงูุงุดุชุฑุงู + ููุฑุฑ ุงูููุฏ ูู ุงูุฑุงุจุท
      const code = localStorage.getItem('sage_demo_code') || '';
      // ูู ุนูู GitHub Pages ุฏุงุฎู repo sage-portal:
      window.location.href = `/sage-portal/index.html?code=${encodeURIComponent(code)}#subscription`;
      // ูู ุดุบุงู ูุญูููุง ุฃู ูุณุงุฑ ูุฎุชููุ ุงุณุชุฎุฏู ุจุฏููุง:
      // window.location.href = `./index.html?code=${encodeURIComponent(code)}#subscription`;
    };
  </script>
</body>
</html>
